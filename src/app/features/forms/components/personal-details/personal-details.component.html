<form [formGroup]="form" class="p-6 space-y-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- First Name -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" placeholder="Enter first name">
      <mat-error *ngIf="form.get('firstName')?.errors?.['required']">
        First name is required
      </mat-error>
    </mat-form-field>

    <!-- Last Name -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" placeholder="Enter last name">
      <mat-error *ngIf="form.get('lastName')?.errors?.['required']">
        Last name is required
      </mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" placeholder="Enter email" type="email">
      <mat-error *ngIf="form.get('email')?.errors?.['required']">
        Email is required
      </mat-error>
      <mat-error *ngIf="form.get('email')?.errors?.['email']">
        Please enter a valid email address
      </mat-error>
    </mat-form-field>

    <!-- Phone Number -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Phone Number</mat-label>
      <input matInput formControlName="phoneNumber" placeholder="Enter phone number">
      <mat-error *ngIf="form.get('phoneNumber')?.errors?.['required']">
        Phone number is required
      </mat-error>
    </mat-form-field>

    <!-- Date of Birth -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Date of Birth</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="dateOfBirth">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="form.get('dateOfBirth')?.errors?.['required']">
        Date of birth is required
      </mat-error>
    </mat-form-field>

    <!-- Gender -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Gender</mat-label>
      <mat-select formControlName="gender">
        <mat-option value="Male">Male</mat-option>
        <mat-option value="Female">Female</mat-option>
        <mat-option value="Prefer not to say">Prefer not to say</mat-option>
      </mat-select>
      <mat-error *ngIf="form.get('gender')?.errors?.['required']">
        Gender is required
      </mat-error>
    </mat-form-field>
  </div>

  <!-- Action Buttons -->
  <div class="flex flex-col sm:flex-row gap-4 pt-4">
    <button
      mat-flat-button
      color="primary"
      class="flex-1"
      [disabled]="!form.valid || form.pristine || (isLoading$ | async)"
      (click)="onSave()"
    >
      <mat-spinner
        diameter="20"
        *ngIf="isLoading$ | async; else saveInfo"
        class="inline-block align-middle mr-2"
      ></mat-spinner>
      <ng-template #saveInfo>
        Save & Continue
      </ng-template>
    </button>
  </div>
</form>
